<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible"
        content="IE=edge">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="../lib/index.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.js"></script>
</head>

<body>
    <script>
        new GzTool.XMLHTTPRequestIntercept({
            openHook: (mothod, url, xhr) => { // 可以改写request url method
                console.log('openHook', mothod, url, xhr)
                return {
                    url: 'https://my-json-server.typicode.com/typicode/demo/posts',
                    method: 'POST'
                }
            },
            sendHook: (mothod, url, body, xhr) => { // 可以改写request body
                console.log('sendHook', mothod, url, xhr)

            },
            onreadyStateChangeHook: (mothod, url, xhr) => {
                console.log(mothod, url, xhr)
            },
            onreadyStateChange4Status200Hook: (mothod, url, xhr) => {
                console.log('onreadyStateChange4Status200Hook', mothod, url, xhr)
            }
        })
        $.ajax({
            type: "get",
            url: 'https://my-json-server.typicode.com/typicode/demo/posts',
            success: (res) => {
                console.log(res)
            },
            error: (err) => {
                console.log(err)
            }

        })
    </script>

</body>

</html>